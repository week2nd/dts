<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mhistory">

	<select id="getCount" resultType="int">
		SELECT COUNT(*)
		  FROM ADMINHISTORY
		 ORDER BY 1
	</select>
	
	<select id="getMhistoryList" resultType="mhistory">
		select b.* from (  select a.*, rownum rn from ( 
		SELECT *
		  FROM ADMINHISTORY
		  ORDER BY 1
		  ) a  ) b  where rn between #{first} and #{last}
	</select>
	
	
	<select id="getMhistoryListAjax" resultType="mhistory">
		 select b.* from (  select a.*, rownum rn from ( 
		SELECT *
		  FROM ADMINHISTORY
		  <if test="uId!=null and uId!=''">
			WHERE U_ID = #{uId}
		  </if>		  
		  ORDER BY 1
		  ) a  ) b  where rn between #{first} and #{last}
		
	</select>


</mapper>
	